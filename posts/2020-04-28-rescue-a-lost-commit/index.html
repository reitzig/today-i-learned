<!doctype html><html lang=en><meta charset=utf-8><meta name=generator content="Hugo 0.111.3"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><title>Rescue a Lost Commit&nbsp;&ndash;&nbsp;Today I Learned</title><link rel=stylesheet href=/today-i-learned/css/core.min.399dab7fa1f40244041d4229846dfd5482112986bf439798a00f891ea52d6110509f13568b777a307148a4da24754429.css integrity=sha384-OZ2rf6H0AkQEHUIphG39VIIRKYa/Q5eYoA+JHqUtYRBQnxNWi3d6MHFIpNokdUQp><meta name=twitter:card content="summary"><meta name=twitter:title content="Rescue a Lost Commit"><base href=https://reitzig.github.io/today-i-learned/><link rel=icon href="data:;base64,="><meta name=author content="Raphael Reitzig"><meta name=description content="
By some creative Git juggling, I actually managed to &#34;lose&#34; a commit today.
Believe it or not, that was a first for me!
"><meta name=keywords content="Tool,Git"><body><section id=header><div class="header wrap"><span class="header left-side"><a class="site home" href=/><span class="site name">Today I Learned</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/tags/>Tags</a><a class="nav item" href=impressum>About</a></nav></div></span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">Rescue a Lost Commit</h1><p class="article date">2020-04-28</p><p class="article github_edit"><a rel=nofollow href=https://github.com/reitzig/today-i-learned/edit/master/content/posts/2020-04-28-rescue-a-lost-commit.adoc></a></p></section><article class="article markdown-body"><div class=paragraph><p>By some creative Git juggling, I actually managed to "lose" a commit today.
Believe it or not, that was a first for me!</p></div><div class=paragraph><p>More specifically, I accidentally reset a local branch to the wrong place like so:</p></div><div class=literalblock><div class=content><pre>$ git checkout current-pr
&lt; make some changes &gt;
$ git commit -m &#34;Fancy stuff&#34;
&lt; juggling happens, possibly in a UI client &gt;
$ git checkout current-pr
$ git reset --hard other-branch</pre></div></div><div class=paragraph><p>Now, (at least) that latest commit is no longer referenced and does not appear in <code>git log</code> anymore.
Lucky for me, commits are not that easily lost:</p></div><div class=literalblock><div class=content><pre>$ git reflog</pre></div></div><div class=paragraph><p>Now you get a quite extensive list of operations you ran, which allows you to retrace your steps.
You will be looking for a line similar to this:</p></div><div class=literalblock><div class=content><pre>3376db5 HEAD@{25}: commit: Fancy stuff</pre></div></div><div class=paragraph><p>I had a more expressive commit message, so the revision in question was easy to find.
Now all I had to do was merge this revision into what was left of my branch:</p></div><div class=literalblock><div class=content><pre>$ git reset --hard origin/current-pr
$ git merge --ff 3376db5</pre></div></div></article><section class="article labels"><a class=tag href=/tags/tool/>Tool</a><a class=tag href=/tags/git/>Git</a></section></div><div class="article bottom"><section class="article navigation"><p><a class=link href=/today-i-learned/posts/2020-05-04-argument-types-with-click/><span class="iconfont icon-article"></span>Documenting Argument Types With Click</a></p><p><a class=link href=/today-i-learned/posts/2020-04-24-navigating-slack/><span class="iconfont icon-article"></span>Navigating Slack</a></p></section></div></section><section id=footer><div class=footer-wrap><p class=copyright>Â© 2020 &ndash; 2022 Raphael Reitzig<br>This work is licensed under a
<a rel=license href=http://creativecommons.org/licenses/by/4.0/>Creative Commons Attribution 4.0 International License
</a>.<br><a rel=license href=http://creativecommons.org/licenses/by/4.0/><img alt='Creative Commons License' style=border-width:0 src=cc-by-80x15.png></a></p><p class=powerby><span>Powered&nbsp;by&nbsp;</span><a href=https://gohugo.io target=_blank>Hugo</a><span>&nbsp;&&nbsp;</span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank>Notepadium</a></p></div></section><script src=/today-i-learned/js/hljs.min.6f979583f61e4ec5f0b94f94eab2e130ee628032474d374414dba4e33cc12097a0d01fe65b33378b23f6d3b053b95445.js integrity=sha384-b5eVg/YeTsXwuU+U6rLhMO5igDJHTTdEFNuk4zzBIJeg0B/mWzM3iyP207BTuVRF></script><script>hljs.initHighlightingOnLoad()</script></body></html>